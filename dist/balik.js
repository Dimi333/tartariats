!function(e){function t(i){if(a[i])return a[i].exports;var o=a[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t,a){"use strict";t.__esModule=!0;var i=a(12);window.onload=function(){Lockr.get("sirka")||Lockr.get("vyska")||Lockr.get("skalovanie")||(Lockr.set("sirka",768),Lockr.set("vyska",432),Lockr.set("skalovanie",0),Lockr.set("paralax",1));new i.Tartaria}},function(e,t,a){"use strict";t.__esModule=!0;var i=function(){function e(){}return e.prototype.mojAlert=function(e){if(0===$("#okno").length){var t="<div class='okno' id='okno'>"+e+"<br><br><button onclick='$(this).parent().remove();'>Zatvor [esc]</button></div>";$(t).appendTo("#telo");var a=$("canvas"),i=a.offset();$("#okno").css("left",i.left),$("#okno").css("top",i.top),$("#okno").width($("canvas").width())}},e.prototype.zabiOkno=function(){$("#okno").remove()},e.prototype.actionOnClick=function(e,t,a,i){a===!0?Lockr.set("skalovanie",1):Lockr.set("skalovanie",0),i===!0?Lockr.set("paralax",1):Lockr.set("paralax",0),Lockr.set("sirka",e),Lockr.set("vyska",t),location.reload(!0)},e}();t.UI=i},function(e,t,a){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}();t.__esModule=!0;var o=function(e){function t(t,a,i,o,s,n,r,l,p,h){var c=e.call(this,t,p,h)||this;return"netopier"!==i.sprite&&"slime"!==i.sprite&&"slime2"!==i.sprite&&"kostlivec"!==i.sprite&&"slimeBoss"!==i.sprite&&"ohyzd"!==i.sprite||(c.sprite=Phaser.Sprite.call(c,t,p,h,"dataFile",i.sprite+"01.png")),"netopier2"===i.sprite&&(c.sprite=Phaser.Sprite.call(c,t,p,h,"dataFile",i.sprite+"1.png")),c.autoCull=!0,c.game=t,c.hrac=a,c.game.physics.arcade.enable(c),c.vrstvaBloky=o,c.vrstvaMince=s,c.stromy=n,c.sipy=r,c.sipyNepriatelov=l,c.collideWorldBounds=!0,c.rychlostPohybu=i.rychlostPohybu||80,c.sprite=i.sprite,c.body.collideWorldBounds=!0,c.body.bounce.y=0,c.body.bounce.x=1,c.zranenie=i.zranenie,c.type=i.type,c.zdravie=i.zdravie,c.cielUlohy=i.cielUlohy,c.skusenosti=i.skusenosti||10,c.pohybDoX=i.pohybDoX,c.pohybOdX=i.pohybOdX,c.dovidi=i.dovidi||300,c.striela=i.striela||!1,c.casMedziVystrelmi=i.casMedziVystrelmi||1e3,c.naboj=i.naboj||"sip",c.autoCull=!0,c.casStrelby=0,"kostlivec"===String(c.type)&&(c.body.gravity.y=800,c.body.velocity.x=c.rychlostPohybu,c.animations.add("right",Phaser.Animation.generateFrameNames(c.sprite,1,5,".png",2),10,!0,!1),c.animations.add("left",Phaser.Animation.generateFrameNames(c.sprite,6,10,".png",2),10,!0,!1),c.animations.play("right")),"sliz"===String(c.type)&&(c.body.gravity.y=800,c.body.velocity.x=c.rychlostPohybu,c.animations.add("right",Phaser.Animation.generateFrameNames(c.sprite,1,5,".png",2),10,!0,!1),c.animations.add("left",Phaser.Animation.generateFrameNames(c.sprite,6,10,".png",2),10,!0,!1),c.animations.play("right")),"ohyzd"===String(c.type)&&(c.body.gravity.y=800,c.body.velocity.x=c.rychlostPohybu,c.animations.add("right",Phaser.Animation.generateFrameNames(c.sprite,1,6,".png",2),10,!0,!1),c.animations.add("left",Phaser.Animation.generateFrameNames(c.sprite,7,12,".png",2),10,!0,!1),c.animations.add("smrt",Phaser.Animation.generateFrameNames(c.sprite,13,17,".png",2),10,!0,!1),c.animations.play("right")),"netopier"===c.sprite&&(c.body.gravity.y=0,c.animations.add("let",Phaser.Animation.generateFrameNames(c.sprite,2,4,".png",2),10,!0,!1),c.animations.play("let")),"netopier2"===i.sprite&&(c.body.gravity.y=0,c.animations.add("let",Phaser.Animation.generateFrameNames(c.sprite,1,3,".png",1),10,!0,!1),c.animations.play("let",13,!0)),i.neviditelny&&(c.alpha=i.neviditelny),Object.create(Phaser.Sprite.prototype),c}return i(t,e),t.prototype.update=function(){var e=Math.abs(this.hrac.x-this.x),t=Math.abs(this.hrac.y-this.y);e<this.dovidi&&t<this.dovidi&&this.alive===!0||this.inCamera===!0&&this.alive?("netopier"===String(this.type)&&this.game.physics.arcade.moveToObject(this,this.hrac,this.rychlostPohybu),this.striela&&Date.now()>this.casStrelby&&this.hrac.x!==this.x&&(this.body.velocity.x>0&&this.hrac.x>this.x||this.body.velocity.x<0&&this.hrac.x<this.x)&&this.strielaj(e)):"netopier"===String(this.type)&&(this.body.velocity.x=0,this.body.velocity.y=0),"sliz"!==String(this.type)&&"kostlivec"!==String(this.type)&&"ohyzd"!==String(this.type)||(this.body.x>=this.pohybDoX&&(this.animations.play("left",5,!0),this.body.velocity.x*=-1),this.body.x<=this.pohybOdX&&(this.animations.play("right",5,!0),this.body.velocity.x*=-1))},t.prototype.strielaj=function(e){var t=this.sipyNepriatelov.getFirstExists(!1,!1,0,0,"dataFile",this.naboj+".png");t&&(t.reset(this.x+33,this.y+20),t.rotation=this.game.physics.arcade.angleBetween(t,this.hrac),this.casMedziVystrelmi?this.casStrelby=Date.now()+this.casMedziVystrelmi:this.casStrelby=Date.now()+1e3,this.game.physics.arcade.moveToXY(t,this.hrac.x,this.hrac.y-e/2,500))},t}(Phaser.Sprite);t.Nepriatel=o},function(e,t,a){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}();t.__esModule=!0;var o=function(e){function t(t,a,i,o,s,n,r,l,p,h){var c=e.call(this,a,i,o)||this;return c.hrac=s,c.bloky=n,c.stromy=r,c.zbieratelnePredmety=l,c.sipy=p,c.vlastnosti=h,Phaser.Sprite.call(c,c.game,i,o,"dataFile",t+".png"),c.game.add.existing(c),c.game.physics.arcade.enable(c),c.enableBody=!0,c.body.collideWorldBounds=!0,c.body.gravity.y=700,h&&h.type&&(c.type=h.type),Object.create(Phaser.Sprite.prototype),c}return i(t,e),t.prototype.update=function(){this.game.physics.arcade.collide(this,this.bloky,function(e,t){}),this.game.physics.arcade.collide(this,this.stromy,function(e,t){}),this.game.physics.arcade.overlap(this,this.hrac,function(e,t){})},t}(Phaser.Sprite);t.Predmet=o},function(e,t,a){"use strict";function i(e,t){for(var a=Lockr.get("plnenaUloha"),i=0,o=t.splneneUlohy;i<o.length;i++){var s=o[i];if(s===e.uloha)return void x.mojAlert("Už pre teba nemá žiadnu ďalšiu úlohu.")}a?"Hostimil"===e.uloha?r(t):"stratenyDiamant"===e.uloha&&"stratenyDiamant"===a[0].nazov?c(t):"priseraVBani"===e.uloha&&"priseraVBani"===a[0].nazov?y(t):"netopiereVDome"===e.uloha&&"netopiereVDome"===a[0].nazov?b(t):"stratenyNapoj"===e.uloha&&"stratenyNapoj"===a[0].nazov?l(t):x.mojAlert("Naraz môžeš plniť iba jednu úlohu"):("Hostimil"===e.uloha&&r(t),"stratenyDiamant"===e.uloha&&c(t),"priseraVBani"===e.uloha&&y(t),"netopiereVDome"===e.uloha&&b(t),"stratenyNapoj"===e.uloha&&l(t))}function o(e,t){var a=Lockr.get("plnenaUloha");a&&("stratenyDiamant"===a[0].nazov&&d(e,t),"stratenyNapoj"===a[0].nazov&&p(e,t))}function s(e){var t=Lockr.get("plnenaUloha");t&&("stratenyDiamant"===t[0].nazov&&v(t,e),"priseraVBani"===t[0].nazov&&u(t,e),"netopiereVDome"===t[0].nazov&&k(t,e),"stratenyNapoj"===t[0].nazov&&h(t,e))}function n(e){var t=Lockr.get("plnenaUloha");t&&("priseraVBani"===t[0].nazov&&m(t,e),"netopiereVDome"===t[0].nazov&&f(t,e))}function r(e){x.mojAlert("Vitaj dobrodruh! Klávesami E alebo CTRL vyvolávaš akcie. Kliknutým ľavej myši strielaš a hýbeš sa klávesami A a D alebo smerovými šípkami. Skáčeš W alebo MEDZERNÍKOM. Niektoré postavy ti môžu dať pri rozhovore úlohu. Zoznam úloh nájdeš, keď stlačíš Q.")}function l(e){var t=Lockr.get("plnenaUloha");if(t)t[0].maNapoj?(x.mojAlert("Vďaka za nápoj. Tu máš 10 zlatých"),e.vlastnosti.peniaze+=10,e.vlastnosti.skusenosti+=500,e.inventar.vezmiZInventara("ruzovaFlasa"),e.vypisHUD(),Lockr.rm("plnenaUloha"),e.pridajSplnenuUlohu("stratenyNapoj")):x.mojAlert("Nájdi stratený nápoj v Plesách pre Ľudmilu.");else{var a="Ľudmila: Niesla som čarovný nápoj pre alchymistu, ale po ceste sem mi vypadol. Niekde v Plesách, to je hneď naľavo za mestom. Nemám odvahu vojsť do tých jaskýň. Prosím pomôžeš mi? Vďaka.";x.mojAlert(a),Lockr.set("plnenaUloha",[{nazov:"stratenyNapoj",cielovaMapa:"plesa",maNapoj:!1,popis:a}])}}function p(e,t){if(t.vlastnosti&&"stratenyNapoj"===t.vlastnosti.predmetPreUlohu){e.inventar.pridajDoInventara(t);var a="Výborne, teraz nápoj vezmi Ľudmile do mesta.";x.mojAlert(a);var i=Lockr.get("plnenaUloha");Lockr.set("plnenaUloha",[{nazov:i[0].nazov,cielovaMapa:i[0].cielovaMapa,maNapoj:!0,popis:a}])}}function h(e,t){if(e[0].cielovaMapa===t.uroven&&e[0].maNapoj===!1){var a=new z.Predmet("ruzovaFlasa",t.game,1101,528,t.player,t.vrstvaBloky,t.vrstvaStromy,t.coins,t.sipy,{type:"napoj",predmetPreUlohu:"stratenyNapoj"});a.name="ruzovaFlasa",t.coins.add(a)}}function c(e){var t=Lockr.get("plnenaUloha");if(t)t[0].maDiamant?(x.mojAlert("Vďaka za diamant. Tu máš 100 zlatých"),e.vlastnosti.peniaze+=100,e.vlastnosti.skusenosti+=500,e.vypisHUD(),e.inventar.vezmiZInventara("diamant"),Lockr.rm("plnenaUloha"),e.pridajSplnenuUlohu("stratenyDiamant")):x.mojAlert("Nájdi diamant v Hustolese pre Moryna.");else{var a="Moryn: Ach, dobrý hrdina, stala sa mi nepríjemná vec. Bol som v Hustolese a po ceste domov som tak trochu stratil jednu dôležitú vec. Nachádza sa na východ od mesta hlboko v lese pri takom veľkom strome. Ak by si išiel niekedy okolo a zbadal tam veľký diamant, tak mi ho prosím prines, bohato sa ti odmením!";x.mojAlert(a),Lockr.set("plnenaUloha",[{nazov:"stratenyDiamant",cielovaMapa:"hustoles",maDiamant:!1,popis:a}])}}function d(e,t){if(t.vlastnosti&&"stratenyDiamant"===t.vlastnosti.predmetPreUlohu){e.inventar.pridajDoInventara(t);var a=Lockr.get("plnenaUloha"),i="Výborne, teraz diamant vezmi čarodejníkovy do mesta.";x.mojAlert(i),Lockr.set("plnenaUloha",[{nazov:a[0].nazov,cielovaMapa:a[0].cielovaMapa,maDiamant:!0,popis:i}])}}function v(e,t){if(e[0].cielovaMapa===t.uroven&&e[0].maDiamant===!1){var a=new z.Predmet("diamant",t.game,500,500,t.player,t.vrstvaBloky,t.vrstvaStromy,t.coins,t.sipy,{type:"diamant",predmetPreUlohu:"stratenyDiamant"});a.name="diamant",t.coins.add(a)}}function y(e){var t=Lockr.get("plnenaUloha");if(t)t[0].zabilHo?(x.mojAlert("Vykonal si hrdinský čin! Tu máš 150 zlatých"),e.vlastnosti.peniaze+=150,e.vlastnosti.skusenosti+=1500,e.vypisHUD(),Lockr.rm("plnenaUloha"),e.pridajSplnenuUlohu("priseraVBani")):x.mojAlert("Choď do starej bane a zabi netvora, čo tam žije.");else{var a="Alkazar: Hlboko v starej bani žije hrozný netvor. Má niečo, čo má pre mňa obrovskú hodnotu. Ak ho pre mňa zabiješ, odmením sa ti!";x.mojAlert(a),Lockr.set("plnenaUloha",[{nazov:"priseraVBani",cielovaMapa:"staraBana",zabilHo:!1,popis:a}])}}function u(e,t){if(e[0].cielovaMapa===t.uroven&&e[0].zabilHo===!1){var a={sprite:"slimeBoss",type:"sliz",zdravie:550,zranenie:5,cielUlohy:"priseraVBani",skusenosti:500,striela:!0,naboj:"guano"},i=new j.Nepriatel(t.game,t.player,a,t.vrstvaBloky,t.coins,t.vrstvaStromy,t.sipy,t.sipyNepriatelov,2463,660);t.nepriatelia.add(i)}}function m(e,t){if(e&&"priseraVBani"===t.cielUlohy){var a="Zabil si obludu. Vráť sa do Stroku a povedz o tom Alkazarovy.",i=Lockr.get("plnenaUloha");Lockr.set("plnenaUloha",[{nazov:i[0].nazov,cielovaMapa:i[0].cielovaMapa,zabilHo:!0,popis:a}]),x.mojAlert(a)}}function b(e){var t=Lockr.get("plnenaUloha");if(t)t[0].zabil10Netopierov?(x.mojAlert("Vďaka ti mocný hrdina, dúfam, že to moje kvietky prežili!"),e.vlastnosti.peniaze+=50,e.vlastnosti.skusenosti+=500,e.vypisHUD(),Lockr.rm("plnenaUloha"),e.pridajSplnenuUlohu("netopiereVDome")):x.mojAlert("V dome na kopci mám hromadu netopierov. Zbav ma ich prosím, a dávaj pozor na moje kvietky!");else{var a="Dubák: Strašná vec sa mi stala. Mám v dome netopiere. Ak ich pre mňa vyzabíjaš, odmením sa ti. Bývam hore na terase. Len mi prosím neponič kvetiny, ďakujem.";x.mojAlert(a),Lockr.set("plnenaUloha",[{nazov:"netopiereVDome",cielovaMapa:"domCarodejnikaVStroku",kolkoZabilNetopierov:0,zabil10Netopierov:!1,popis:a}])}}function k(e,t){if(e[0].cielovaMapa===t.uroven&&e[0].zabil10Netopierov===!1)for(var a=0;a<10;a++){var i={sprite:"netopier",type:"netopier",zdravie:50,zranenie:1,cielUlohy:"netopiereVDome",skusenosti:20},o=new j.Nepriatel(t.game,t.player,i,t.vrstvaBloky,t.coins,t.vrstvaStromy,t.sipy,t.sipyNepriatelov,150,150*a+50);t.nepriatelia.add(o)}}function f(e,t){if(e[0]&&"netopiereVDome"===t.cielUlohy){var a=Number(e[0].kolkoZabilNetopierov);if(a++,a>=10){var i="Vyčistil si Dubákov dom. Choď mu o tom povedať.";Lockr.set("plnenaUloha",[{nazov:"netopiereVDome",cielovaMapa:"domCarodejnikaVStroku",kolkoZabilNetopierov:10,zabil10Netopierov:!0,popis:i}]),x.mojAlert(i)}else Lockr.set("plnenaUloha",[{nazov:"netopiereVDome",cielovaMapa:"domCarodejnikaVStroku",kolkoZabilNetopierov:a,zabil10Netopierov:!1}])}}t.__esModule=!0;var g=a(1),j=a(2),z=a(3),x=new g.UI;t.hrac_zadajUlohu=i,t.hrac_zberPredmetov=o,t.game_pripravVeciPreUlohu=s,t.nepriatel_zabitaBytost=n},function(e,t,a){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}();t.__esModule=!0;var o=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.init=function(){if(Lockr.get("skalovanie"))var e=Number(Lockr.get("skalovanie"));1===e?this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL:this.game.scale.scaleMode=Phaser.ScaleManager.NO_SCALE,this.game.renderer.renderSession.roundPixels=!0,this.game.scale.minWidth=240,this.game.scale.minHeight=170,this.game.scale.maxWidth=2880,this.game.scale.maxHeight=1920,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.physics.startSystem(Phaser.Physics.ARCADE)},t.prototype.preload=function(){this.load.image("nacitavanie","assets/obr/nacitavanie.jpg")},t.prototype.create=function(){this.state.start("Preload")},t}(Phaser.State);t.Boot=o},function(e,t,a){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}();t.__esModule=!0;var o=a(7),s=a(10),n=a(2),r=a(4),l=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.init=function(e,t,a){if(Lockr.get("vlastnosti")){var i=Lockr.get("vlastnosti");this.uroven=i.uroven,this.zaciatok_urovnex=i.kdeMaZacatx,this.zaciatok_urovney=i.kdeMaZacaty}else this.uroven=e,this.zaciatok_urovnex=t,this.zaciatok_urovney=a},t.prototype.preload=function(){this.game.time.advancedTiming=!0,this.game.time.desiredFPS=30},t.prototype.premenne=function(){this.kameraX=0},t.prototype.create=function(){$("#nastavenia").hide(),this.camera.flash(0),this.game.world.setBounds(0,0,640,480),this.game.stage.backgroundColor="#4488AA",this.map=this.game.add.tilemap(this.uroven),this.map.addTilesetImage("zakladne","dlazdice"),1===Lockr.get("paralax")&&(this.vrstvaParallax=this.map.createLayer("parallax")),this.vrstvaPozadie=this.map.createLayer("pozadie"),this.vrstvaStromy=this.map.createLayer("stromy"),this.vrstvaBloky=this.map.createLayer("bloky"),this.map.setCollisionBetween(1,1e5,!0,"bloky"),this.map.setCollisionBetween(1,1e5,!0,"stromy"),this.nazovMapy=this.map.layers[this.vrstvaPozadie.index].properties.nazovMapy,1===Lockr.get("paralax")&&"undefined"!=typeof this.vrstvaParallax&&(this.vrstvaParallax.scrollFactorX=.8,this.vrstvaParallax.scrollFactorY=.8,this.vrstvaParallax.tint=8239592),this.sipy=this.game.add.group(),this.sipyNepriatelov=this.game.add.group(),this.coins=this.game.add.group(),this.nepriatelia=this.game.add.group(),this.pohybliveVeci=this.game.add.group(),this.vrstvaBloky.resizeWorld(),this.vytvorZbieratelnePredmety(),this.nazovMapyText=this.game.add.text(0,0,this.nazovMapy,{font:"system",fontSize:"25px",fill:"#fff",boundsAlignH:"center",boundsAlignV:"middle"}),this.nazovMapyText.setTextBounds(0,0,this.game.camera.width,50),this.nazovMapyText.fixedToCamera=!0,this.nazovMapyText.stroke="#000",this.nazovMapyText.strokeThickness=5,this.vrstvaPopredie=this.map.createLayer("popredie");var e=Lockr.get("vlastnosti"),t={};if(t=e?e:{rychlostPohybu:850,vyskaSkoku:500,gravitacia:700,plneZdravie:Number(localStorage.getItem("plneZdravie"))||300,zdravie:Number(localStorage.getItem("zdravie"))||300,peniaze:Number(localStorage.getItem("peniaze"))||0,uroven:this.uroven,zrychlenie:20,spomalenie:30,zrychlenieSkoku:40,skusenosti:0,urovenPostavy:1},this.player=new o.Hrac(this.game,this.zaciatok_urovnex,this.zaciatok_urovney,this.pohybliveVeci,this.vrstvaPopredie,this.vrstvaBloky,this.vrstvaStromy,this.coins,this.nepriatelia,this.sipy,this.sipyNepriatelov,t),this.game.camera.follow(this.player,Phaser.Camera.FOLLOW_LOCKON,.5,.5),this.vytvorNepriatelov(),this.game.world.swap(this.player,this.vrstvaPopredie),this.sipyNepriatelov.enableBody=!0,this.sipyNepriatelov.physicsBodyType=Phaser.Physics.ARCADE,this.sipyNepriatelov.createMultiple(10,this.naboj),this.sipyNepriatelov.callAll("events.onOutOfBounds.add","events.onOutOfBounds",this.resetSip),this.sipyNepriatelov.callAll("anchor.setTo","anchor",.5,1),this.sipyNepriatelov.setAll("checkWorldBounds",!0),this.sipyNepriatelov.setAll("body.gravity.y",500),this.map.layers[this.vrstvaStromy.index].data.forEach(function(e){e.forEach(function(e){e.index>0&&(e.collideDown=!1,e.collideRight=!1,e.collideLeft=!1,e.collideUp=!0)})}),"snezi"===this.map.layers[0].properties.pocasie){var a=this.game.add.emitter(0,0,400);a.makeParticles("dataFile","vlocka.png"),a.minParticleSpeed.setTo(-15,10),a.maxParticleSpeed.setTo(15,80),a.minParticleScale=.1,a.maxParticleScale=.2,a.blendMode=PIXI.blendModes.ADD,a.width=2.1*this.game.world.width,a.gravity=new Phaser.Point(1,100),a.start(!1,3600,5,0)}if("les"===this.map.layers[0].properties.prostredie){var i=this.game.add.emitter(0,600,15);i.makeParticles("dataFile","list.png"),i.minParticleSpeed.setTo(100,0),i.maxParticleSpeed.setTo(2e3,0),i.minParticleScale=.8,i.maxParticleScale=1.2,i.blendMode=PIXI.blendModes.ADD,i.height=2.1*this.game.world.height,i.gravity=new Phaser.Point(0,10),i.start(!1,6600,5,0)}this.game.physics.arcade.TILE_BIAS=32},t.prototype.update=function(){this.sipyNepriatelov.forEachAlive(function(e){e.rotation=Math.atan2(e.body.velocity.y,e.body.velocity.x)},this),this.game.physics.arcade.collide(this.sipyNepriatelov,this.vrstvaBloky,this.resetSip,null,this),this.game.physics.arcade.collide(this.nepriatelia,this.vrstvaBloky,function(e,t){e.body.blocked.right&&(e.animations.play("left",5,!0),e.body.velocity.x*=-1),e.body.blocked.left&&(e.animations.play("right",5,!0),e.body.velocity.x*=-1)},function(e,t){return"netopier"!=e.type},this),this.game.physics.arcade.collide(this.nepriatelia,this.vrstvaStromy,function(e,t){e.body.blocked.right&&(e.animations.play("left",5,!0),e.body.velocity.x*=-1),e.body.blocked.left&&(e.animations.play("right",5,!0),e.body.velocity.x*=-1)},function(e,t){return"netopier"!=e.type},this),this.game.physics.arcade.overlap(this.nepriatelia,this.sipy,function(e,t){if(e.zdravie-=25,e.zdravie<=0)if(r.nepriatel_zabitaBytost(e),this.player.pridajSkusenosti(e.skusenosti),e.animations._anims.smrt){e.body.velocity.x=0;var a=!1,i=!0;e.animations.play("smrt",10,a,i)}else e.kill();t.kill()},null,this)},t.prototype.resetSip=function(e){e.kill()},t.prototype.findObjectsByType=function(e,t,a){var i=new Array;return t.objects[a].forEach(function(a){a.properties.type===e&&(a.y-=t.tileHeight,i.push(a))}),i},t.prototype.createFromTiledObject=function(e,t,a){switch(a){case"mince":if("zlataMinca"===e.properties.sprite){var i=t.create(e.x,e.y,"dataFile",e.properties.sprite+"01.png");i.animations.add("otacaniesa",Phaser.Animation.generateFrameNames(e.properties.sprite,1,11,".png",2),10,!0,!1),i.animations.play("otacaniesa"),i.autoCull=!0,Object.keys(e.properties).forEach(function(t){i[t]=e.properties[t]})}if("diamant"===e.properties.sprite){var o=t.create(e.x,e.y,"dataFile",e.properties.sprite+".png");o.autoCull=!0,Object.keys(e.properties).forEach(function(t){o[t]=e.properties[t]})}break;case"lava":var s=t.create(e.x,e.y,"dataFile",e.properties.sprite+"01.png");s.animations.add("prudenie",Phaser.Animation.generateFrameNames(e.properties.sprite,1,31,".png",2),10,!0,!1),s.animations.play("prudenie"),s.autoCull=!0,Object.keys(e.properties).forEach(function(t){s[t]=e.properties[t]});break;case"dvere":if("teleport"===e.properties.sprite?(s=t.create(e.x,e.y,"dataFile",e.properties.sprite+"01.png"),s.animations.add("tocenie",Phaser.Animation.generateFrameNames(e.properties.sprite,1,9,".png",2),10,!0,!1),s.animations.play("tocenie")):s=e.properties.sprite?t.create(e.x,e.y,"dataFile",e.properties.sprite+".png"):t.create(e.x,e.y,"dataFile","neviditelny.png"),e.properties.vstupNaPoziadanie===!0){var n=s.addChild(this.game.make.sprite(-50,-110,"dataFile","dvereBublina.png"));n.visible=!1}s.autoCull=!0,Object.keys(e.properties).forEach(function(t){s[t]=e.properties[t]});break;case"ovocie":s=t.create(e.x,e.y,"dataFile",e.properties.sprite+".png"),s.autoCull=!0,Object.keys(e.properties).forEach(function(t){s[t]=e.properties[t]});break;case"nepriatel":s=t.create(e.x,e.y,"dataFile","jezko.png"),s.autoCull=!0,Object.keys(e.properties).forEach(function(t){s[t]=e.properties[t]});break;case"fakla":s=t.create(e.x,e.y,"dataFile","fakla.png"),s.autoCull=!0;var r=this.game.add.emitter(e.x+16,e.y+16,0);r.makeParticles("dataFile","plamen.png",10,!1,!1),r.minParticleSpeed.setTo(-15,10),r.maxParticleSpeed.setTo(15,-100),r.minParticleScale=.1,r.maxParticleScale=.5,r.blendMode=PIXI.blendModes.ADD,r.gravity=new Phaser.Point(0,-45),r.start(!1,300,5),Object.keys(e.properties).forEach(function(t){s[t]=e.properties[t]});break;case"teleport":"teleport"===e.properties.sprite&&"neviditelny"!==e.properties.sprite?(s=t.create(e.x,e.y,"dataFile",e.properties.sprite+"01.png"),s.animations.add("tocenie",Phaser.Animation.generateFrameNames(e.properties.sprite,1,9,".png",2),10,!0,!1),s.animations.play("tocenie")):s=t.create(e.x,e.y,"dataFile","neviditelny.png"),s.autoCull=!0,Object.keys(e.properties).forEach(function(t){s[t]=e.properties[t]});break;case"carodejnica":s=t.create(e.x,e.y,"dataFile",e.properties.sprite+"01.png"),s.animations.add("otacanie",Phaser.Animation.generateFrameNames(e.properties.sprite,1,16,".png",2),10,!0,!1),s.animations.play("otacanie");var n=s.addChild(this.game.make.sprite(-45,-100,"dataFile","chatBublina.png"));n.visible=!1,s.autoCull=!0,Object.keys(e.properties).forEach(function(t){s[t]=e.properties[t]});break;case"lahkaZena":s=t.create(e.x,e.y,"dataFile",e.properties.sprite+"01.png"),s.animations.add("otacanie",Phaser.Animation.generateFrameNames(e.properties.sprite,1,16,".png",2),10,!0,!1),s.animations.play("otacanie");var n=s.addChild(this.game.make.sprite(-45,-100,"dataFile","chatBublina.png"));n.visible=!1,s.autoCull=!0,Object.keys(e.properties).forEach(function(t){s[t]=e.properties[t]});break;case"zena":s=t.create(e.x,e.y,"dataFile",e.properties.sprite+"1.png"),s.animations.add("otacanie",Phaser.Animation.generateFrameNames(e.properties.sprite,1,4,".png",1),1,!0,!1),s.animations.play("otacanie");var n=s.addChild(this.game.make.sprite(5,-100,"dataFile","chatBublina.png"));n.visible=!1,s.autoCull=!0,Object.keys(e.properties).forEach(function(t){s[t]=e.properties[t]});break;case"obchodnik":s=t.create(e.x,e.y,"dataFile",e.properties.sprite+"1.png"),s.animations.add("otacanie",Phaser.Animation.generateFrameNames(e.properties.sprite,1,4,".png",1),1,!0,!1),s.animations.play("otacanie");var n=s.addChild(this.game.make.sprite(5,-100,"dataFile","nakupBublina.png"));n.visible=!1,s.autoCull=!0,Object.keys(e.properties).forEach(function(t){s[t]=e.properties[t]});break;case"carodejnik":s=t.create(e.x,e.y,"dataFile",e.properties.sprite+"1.png"),s.animations.add("otacanie",Phaser.Animation.generateFrameNames(e.properties.sprite,1,3,".png",1),1,!0,!1),s.animations.play("otacanie");var n=s.addChild(this.game.make.sprite(5,-100,"dataFile","chatBublina.png"));n.visible=!1,s.autoCull=!0,Object.keys(e.properties).forEach(function(t){s[t]=e.properties[t]});break;default:if(s=t.create(e.x,e.y,e.properties.sprite),"banner"===a){var l=this.game.add.text(e.x,e.y,e.properties.text,{font:"VT323",fontSize:e.properties.txtVelkost,fill:e.properties.txtFarba});l.stroke=e.properties.txtFarbaTahu,l.strokeThickness=Number(e.properties.txtHrubkaTahu),l.setShadow(2,2,"#333333",2,!0,!1)}s.autoCull=!0,Object.keys(e.properties).forEach(function(t){s[t]=e.properties[t]})}},t.prototype.vytvorNepriatelov=function(){this.nepriatelia.enableBody=!0,Lockr.get("plnenaUloha")&&r.game_pripravVeciPreUlohu(this);var e=this.findObjectsByType("nepriatel",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.nepriatelia,"nepriatel")},this);var e=this.findObjectsByType("sliz",this.map,"objekty");e.forEach(function(e){var t=new n.Nepriatel(this.game,this.player,e.properties,this.vrstvaBloky,this.coins,this.vrstvaStromy,this.sipy,this.sipyNepriatelov,e.x,e.y);this.nepriatelia.add(t)},this);var e=this.findObjectsByType("ohyzd",this.map,"objekty");e.forEach(function(e){var t=new n.Nepriatel(this.game,this.player,e.properties,this.vrstvaBloky,this.coins,this.vrstvaStromy,this.sipy,this.sipyNepriatelov,e.x,e.y);this.nepriatelia.add(t)},this);var e=this.findObjectsByType("netopier",this.map,"objekty");e.forEach(function(e){var t=new n.Nepriatel(this.game,this.player,e.properties,this.vrstvaBloky,this.coins,this.vrstvaStromy,this.sipy,this.sipyNepriatelov,e.x,e.y);this.nepriatelia.add(t)},this);var e=this.findObjectsByType("kostlivec",this.map,"objekty");e.forEach(function(e){var t=new n.Nepriatel(this.game,this.player,e.properties,this.vrstvaBloky,this.coins,this.vrstvaStromy,this.sipy,this.sipyNepriatelov,e.x,e.y);this.nepriatelia.add(t)},this);var e=this.findObjectsByType("pohyblive",this.map,"objekty");e.forEach(function(e){var t=new s.PohyblivyPredmet(e.properties.sprite,this.game,e.x,e.y,this.player,this.vrstvaBloky,this.vrstvaStromy,this.coins,this.sipy,this.sipyNepriatelov,e.properties);t.obnov(),this.pohybliveVeci.add(t)},this);var e=this.findObjectsByType("pasca",this.map,"objekty");e.forEach(function(e){var t=new s.PohyblivyPredmet(e.properties.sprite,this.game,e.x,e.y,this.player,this.vrstvaBloky,this.vrstvaStromy,this.coins,this.sipy,this.sipyNepriatelov,e.properties);t.obnov(),this.nepriatelia.add(t)},this)},t.prototype.vytvorZbieratelnePredmety=function(){this.coins.enableBody=!0;var e=this.findObjectsByType("dvere",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.coins,"dvere")},this);var e=this.findObjectsByType("minca",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.coins,"mince")},this);var e=this.findObjectsByType("teleport",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.coins,"teleport")},this);var e=this.findObjectsByType("lava",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.coins,"lava")},this);var e=this.findObjectsByType("ovocie",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.coins,"ovocie")},this);var e=this.findObjectsByType("banner",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.coins,"banner")},this);var e=this.findObjectsByType("obchodnik",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.coins,"obchodnik")},this);var e=this.findObjectsByType("carodejnica",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.coins,"carodejnica")},this);var e=this.findObjectsByType("lahkaZena",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.coins,"carodejnica")},this);var e=this.findObjectsByType("carodejnik",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.coins,"carodejnik")},this);var e=this.findObjectsByType("fakla",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.coins,"fakla")},this);var e=this.findObjectsByType("zena",this.map,"objekty");e.forEach(function(e){this.createFromTiledObject(e,this.coins,"zena")},this)},t.prototype.render=function(){this.game.debug.text(String(this.game.time.fps),this.game.camera.width-25,this.game.camera.height-10,"#00ff00","20px Courier")},t}(Phaser.State);t.Game=l},function(e,t,a){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}();t.__esModule=!0;var o=a(4),s=a(1),n=a(8),r=function(e){function t(t,a,i,o,r,l,p,h,c,d,v,y){var u=e.call(this,t,a,i)||this;u.znenie="0.1.24",u.splneneUlohy=[],u.ui=new s.UI,u.game=t,u.bloky=l,u.stromy=p,u.vlastnosti=y,u.nepriatelia=c,u.zbieratelnePredmety=h,u.sipyNepriatelov=v,u.pohybliveVeci=o,u.popredie=r,a&&i||(a=150,i=0),Phaser.Sprite.call(u,u.game,Number(a),Number(i),"dataFile","postava05.png"),u.game.add.existing(u),u.game.physics.arcade.enable(u),u.enableBody=!0,u.body.mass=100,u.body.maxVelocity.setTo(500,5e3),u.body.drag.setTo(1200,100),u.animations.add("left",Phaser.Animation.generateFrameNames("postava",1,4,".png",2),10,!0,!1),u.animations.add("right",Phaser.Animation.generateFrameNames("postava",6,10,".png",2),10,!0,!1),u.animations.add("stop",Phaser.Animation.generateFrameNames("postava",5,5,".png",2),0,!0,!1),u.body.gravity.y=y.gravitacia,u.vlastnosti.type&&(u.type=y.type),u.cursors=u.game.input.keyboard.createCursorKeys(),u.spaceKey=u.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),u.rctrlKey=u.game.input.keyboard.addKey(Phaser.Keyboard.CONTROL),u.dennikKey=u.game.input.keyboard.addKey(Phaser.Keyboard.Q),u.tildaKey=u.game.input.keyboard.addKey(Phaser.Keyboard.N),u.escKey=u.game.input.keyboard.addKey(Phaser.Keyboard.ESC),u.resetKey=u.game.input.keyboard.addKey(Phaser.Keyboard.L),u.akcneTlacidlo=u.game.input.keyboard.addKey(Phaser.Keyboard.E),u.hsKey=u.game.input.keyboard.addKey(Phaser.Keyboard.K),u.wasd={up:u.game.input.keyboard.addKey(Phaser.Keyboard.W),down:u.game.input.keyboard.addKey(Phaser.Keyboard.S),left:u.game.input.keyboard.addKey(Phaser.Keyboard.A),right:u.game.input.keyboard.addKey(Phaser.Keyboard.D)},u.wasdSipky={up:u.game.input.keyboard.addKey(Phaser.Keyboard.UP),down:u.game.input.keyboard.addKey(Phaser.Keyboard.DOWN),left:u.game.input.keyboard.addKey(Phaser.Keyboard.LEFT),right:u.game.input.keyboard.addKey(Phaser.Keyboard.RIGHT)},u.ulozKey=u.game.input.keyboard.addKey(Phaser.Keyboard.U);var m="<div class='okno' id='HUD'><span id='riadokZdravie'><span id='zdraviePas'></span><span class='txt'><span id='zdravie'>"+u.vlastnosti.zdravie+"</span> / <span id='plneZdravie'>"+u.vlastnosti.plneZdravie+"</span></span></span><span id='riadokPeniaze'><img src='assets/obr/minca.png'> <span id='peniaze'>"+u.vlastnosti.peniaze+"</span></span><br><span id='riadokSkusenosti'>Skúsenosti: <span id='skusenosti'>"+u.vlastnosti.skusenosti+"</span></span><br><small>Denník: [Q]</small><br><small>znenie: "+u.znenie+"</small></div>";if(0===$("#HUD").length){$(m).prependTo("body");var b=$("canvas"),k=b.offset();$("#HUD").css("left",k.left),$("#HUD").css("top",k.top)}else u.vypisHUD();return $("#HUD").show(),u.vypisHUD(),u.sipy=d,u.sipy.enableBody=!0,u.sipy.physicsBodyType=Phaser.Physics.ARCADE,u.sipy.createMultiple(10,"dataFile","sip.png"),
u.sipy.callAll("events.onOutOfBounds.add","events.onOutOfBounds",u.resetSip),u.sipy.callAll("anchor.setTo","anchor",.5,1),u.sipy.setAll("checkWorldBounds",!0),u.sipy.setAll("outOfBoundsKill",!0),u.otocenie=1,u.casStrelby=0,u.jeVoVode=!1,Object.create(Phaser.Sprite.prototype),u.splneneUlohy=Lockr.get("splneneUlohy"),u.inventar=new n.Inventar(u.game),u}return i(t,e),t.prototype.update=function(){this.jeVoVode=!1,this.game.physics.arcade.collide(this,this.pohybliveVeci,function(e,t){e.body.touching.down&&(e.body.blocked.down=!0),t.padajuce&&setTimeout(function(e){e.body.moves=!0},t.zdrzanie,t)},null,this),this.game.physics.arcade.collide(this,this.bloky,null,null,this),this.game.physics.arcade.overlap(this,this.popredie,function(e,t){296!==t.index&&297!==t.index||(this.jeVoVode=!0)},null,this),this.game.physics.arcade.collide(this,this.stromy,null,null,this);var e=this.game.physics.arcade.overlap(this,this.zbieratelnePredmety,this.collect,null,this);if(this.game.physics.arcade.overlap(this,this.nepriatelia,this.collect,null,this),this.game.physics.arcade.collide(this.sipy,this.bloky,this.resetSip,null,this),this.game.physics.arcade.overlap(this.sipyNepriatelov,this,function(e,t){e.vlastnosti.zdravie-=20,this.game.camera.flash(16711680),e.vypisHUD(),t.kill()},null,this),!e&&this.zobrazenaBublina&&(this.zobrazenaBublina.visible=!1),this.jeVoVode?(this.body.gravity.y=400,this.body.velocity.y/=1.1,this.body.velocity.x/=1.1):this.body.gravity.y=this.vlastnosti.gravitacia,this.escKey.justDown&&this.ui.zabiOkno(),this.resetKey.justDown&&(Lockr.rm("vlastnosti"),Lockr.rm("plnenaUloha"),Lockr.rm("inventar"),Lockr.rm("splneneUlohy"),location.reload(!0)),this.hsKey.justDown&&(this.vlastnosti.uroven="jancib",this.uloz(this.vlastnosti.uroven,150,2200),location.reload(!0)),this.dennikKey.justDown){var t=Lockr.get("plnenaUloha");if("undefined"==typeof this.dennik){if(this.dennikGroup=this.game.add.group(),this.dennik=this.game.add.graphics(1,1),this.dennik.lineStyle(4,0,1),this.dennik.y=20,this.dennik.x=180,this.dennik.beginFill(0),this.dennik.fillAlpha=.8,this.dennik.drawRect(0,0,this.game.camera.width-320,this.game.camera.height-40),this.dennik.endFill(),this.dennik.fixedToCamera=!0,this.dennikGroup.add(this.dennik),t){var a={font:"16px Arial",fill:"#ffffff",align:"center",wordWrap:!0,wordWrapWidth:this.game.camera.width/2},i=this.game.add.text(this.game.camera.width/4,this.game.camera.height/5,t[0].popis,a);i.fixedToCamera=!0,this.dennikGroup.add(i)}var o={font:"16px Arial",fill:"#ffffff",align:"center",wordWrap:!0,wordWrapWidth:this.game.camera.width/2},s=this.game.add.text(this.game.camera.width/4,this.game.camera.height/1.5,"Splnené úlohy: "+Lockr.get("splneneUlohy").toString(),o);s.fixedToCamera=!0,this.dennikGroup.add(s)}else this.dennik=void 0,this.dennikGroup.callAll("destroy"),this.dennikGroup.destroy()}this.game.physics.arcade.overlap(this.nepriatelia,this.sipy,function(e,t){e.zdravie<=25&&(this.vlastnosti.skusenosti+=e.skusenosti,this.vypisHUD())},null,this),this.ulozKey.justDown&&(this.ui.mojAlert("Ulozene"),this.uloz(this.vlastnosti.uroven,this.x,this.y)),this.tildaKey.justDown&&this.game.state.start("Nastavenia"),this.sipy.forEachAlive(function(e){e.rotation=Math.atan2(e.body.velocity.y,e.body.velocity.x)},this),this.wasdSipky.left.isDown||this.wasd.left.isDown?(this.otocenie=-1,this.body.acceleration.x=-this.vlastnosti.rychlostPohybu,this.animations.play("left")):this.wasdSipky.right.isDown||this.wasd.right.isDown?(this.otocenie=1,this.body.acceleration.x=this.vlastnosti.rychlostPohybu,this.animations.play("right")):(this.wasdSipky.down.isDown||this.wasd.down.isDown)&&this.jeVoVode?this.body.velocity.y<this.vlastnosti.rychlostPohybu&&(this.body.velocity.y+=this.vlastnosti.zrychlenie):(this.animations.play("stop"),this.body.acceleration.x=0),(this.cursors.up.isDown||this.wasd.up.isDown||this.spaceKey.isDown)&&(this.body.blocked.down||this.jeVoVode)&&(this.jeVoVode?this.body.velocity.y>-300&&(this.body.velocity.y-=45):this.body.velocity.y-=this.vlastnosti.vyskaSkoku),this.game.input.activePointer.leftButton.isDown&&Date.now()>this.casStrelby&&this.strielajMysou(),(this.y>=this.game.world.height||this.vlastnosti.zdravie<=0)&&(this.vlastnosti.zdravie=0,this.vypisHUD(),this.ui.mojAlert("Zomrel si... :("),this.game.paused=!0,setTimeout(function(e){e.paused=!1},1e3,this.game),this.game.state.start("Game",!0,!1,this.vlastnosti.uroven,this.vlastnosti.kdeMaZacatx,this.vlastnosti.kdeMaZacaty))},t.prototype.resetSip=function(e){e.kill()},t.prototype.strielaj=function(){var e=this.sipy.getFirstExists(!1);e&&(this.otocenie===-1?e.scale.x=-1:e.scale.x=1,e.reset(this.x+20,this.y+30),this.casStrelby=Date.now()+300)},t.prototype.strielajMysou=function(){var e=this.sipy.getFirstExists(!1);if(e){e.scale.x=1,e.reset(this.x+20,this.y+30),this.casStrelby=Date.now()+300,e.rotation=this.game.physics.arcade.angleToPointer(e),e.body.gravity.y=500;var t=700;this.jeVoVode&&(t/=1.5),this.game.physics.arcade.moveToPointer(e,t)}},t.prototype.dalsiaUroven=function(e,t){this.uloz(t.uroven,t.zaciatokX,t.zaciatokY),this.game.state.start("Game",!0,!1,t.uroven,t.obrazokNaPozadi,t.zaciatokX,t.zaciatokY)},t.prototype.pridajSkusenosti=function(e){this.vlastnosti.skusenosti+=e,this.vypisHUD()},t.prototype.uloz=function(e,t,a){this.vlastnosti.uroven=e,this.vlastnosti.kdeMaZacatx=t,this.vlastnosti.kdeMaZacaty=a,Lockr.set("vlastnosti",this.vlastnosti),Lockr.set("splneneUlohy",this.splneneUlohy)},t.prototype.collect=function(e,t){o.hrac_zberPredmetov(e,t),t.skusenostiZaZber&&(this.vlastnosti.skusenosti+=t.skusenostiZaZber,this.vypisHUD()),"minca"===t.type&&(t.destroy(),t.hodnota?this.vlastnosti.peniaze+=t.hodnota:this.vlastnosti.peniaze++,this.vypisHUD()),"teleport"===t.type&&(this.x=t.cielX,this.y=t.cielY,this.body.acceleration.x=0,this.body.acceleration.y=0,this.body.velocity.x=0,this.body.velocity.y=0,this.body.velocity.x=0),"dvere"===t.type&&(t.vstupNaPoziadanie?(t.children[0].visible=!0,this.zobrazenaBublina=t.children[0]):this.dalsiaUroven(this,t)),"dvere"===t.type&&(this.akcneTlacidlo.isDown||this.rctrlKey.isDown)&&this.dalsiaUroven(this,t),"ovocie"===t.type&&(t.destroy(),this.vlastnosti.zdravie<this.vlastnosti.plneZdravie&&(this.vlastnosti.zdravie+=20),this.vlastnosti.zdravie>this.vlastnosti.plneZdravie&&(this.vlastnosti.zdravie=this.vlastnosti.plneZdravie),this.vypisHUD()),"pasca"!==t.type&&"nepriatel"!==t.type&&"sliz"!==t.type&&"kostlivec"!==t.type&&"netopier"!==t.type&&"lava"!==t.type||(this.vlastnosti.zdravie-=t.zranenie,this.vypisHUD(),this.game.camera.flash(16711680)),t.rozhovor===!0&&(t.children[0].visible=!0,this.zobrazenaBublina=t.children[0],"obchodnik"===t.type&&(this.akcneTlacidlo.justDown||this.rctrlKey.justDown)&&(this.vlastnosti.peniaze>=5&&Number(this.vlastnosti.zdravie)<Number(this.vlastnosti.plneZdravie)?(this.vlastnosti.peniaze-=5,this.vlastnosti.zdravie=this.vlastnosti.plneZdravie,this.vypisHUD(),this.ui.mojAlert("Si vyliečený")):this.ui.mojAlert("Nemáš dosť peňazí alebo niesi zranený.")),"lahkaZena"===t.type&&(this.akcneTlacidlo.justDown||this.rctrlKey.justDown)&&(this.vlastnosti.peniaze>=2?(this.vlastnosti.peniaze-=2,this.vlastnosti.zdravie+=30,this.vlastnosti.zdravie>=this.vlastnosti.plneZdravie&&(this.vlastnosti.zdravie=this.vlastnosti.plneZdravie),this.vypisHUD(),this.ui.mojAlert("Užil si si v Milicinej izbičke ;). Už sa tešia až ťa tu uvidia opäť!")):this.ui.mojAlert("BEZ PENĚZ DO HOSPODY NELEZ!")),"undefined"!=typeof t.uloha&&(this.akcneTlacidlo.justDown||this.rctrlKey.justDown)&&o.hrac_zadajUlohu(t,this))},t.prototype.pridajSplnenuUlohu=function(e){this.splneneUlohy.push(e),this.uloz(this.vlastnosti.uroven,this.x,this.y)},t.prototype.vypisHUD=function(){$("#HUD #zdraviePas").css("width",this.vlastnosti.zdravie/this.vlastnosti.plneZdravie*100+"%"),$("#HUD #zdravie").text(this.vlastnosti.zdravie),$("#HUD #plneZdravie").text(this.vlastnosti.plneZdravie),$("#HUD #peniaze").text(this.vlastnosti.peniaze),$("#HUD #skusenosti").text(this.vlastnosti.skusenosti)},t}(Phaser.Sprite);t.Hrac=r},function(e,t,a){"use strict";t.__esModule=!0;var i=a(3),o=function(){function e(e){this.maxi=5,this.veciVInvetari=[],this.game=e,this.inventarGroup=e.add.group(),this.inventar=e.add.graphics(10,10),this.inventar.lineStyle(4,16777215,1),this.inventar.y=20,this.inventar.beginFill(0),this.inventar.fillAlpha=.5;for(var t=1;t<=this.maxi;t++)this.inventar.drawRect(50*t,0,50,50),this.veciVInvetari.push("");this.inventar.endFill(),this.inventar.x=e.camera.width-this.inventar.width-60,this.inventar.fixedToCamera=!0,this.naplnInventar(e)}return e.prototype.naplnInventar=function(e){var t=Lockr.get("inventar");if(t)for(var a=0,o=t;a<o.length;a++){var s=o[a];if(s){var n=new i.Predmet(s,e,0,0,null,null,null,null,null,null);n.name=s,this.pridajDoInventara(n)}}},e.prototype.pridajDoInventara=function(e){for(var t=1;t<=this.maxi&&(t!=this.maxi||""===this.veciVInvetari[this.maxi-1]);t++)if(""===this.veciVInvetari[t-1]){this.inventarGroup.add(e),this.veciVInvetari[t-1]=e.name,e.fixedToCamera=!0,e.body.enable=!1,e.enableBody=!1,e.cameraOffset.setTo(this.game.camera.width-this.inventar.width+50*(t-1),30),Lockr.set("inventar",this.veciVInvetari);break}},e.prototype.vezmiZInventara=function(e){for(var t=1;t<=this.maxi;t++)if(this.veciVInvetari[t-1]===e){this.veciVInvetari[t-1]="";for(var a=0,i=this.inventarGroup.children;a<i.length;a++){var o=i[a];o.name===e&&o.destroy()}Lockr.set("inventar",this.veciVInvetari);break}},e}();t.Inventar=o},function(e,t,a){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}();t.__esModule=!0;var o=a(1),s=function(e){function t(){var t=e.call(this)||this;return t.ui=new o.UI,t}return i(t,e),t.prototype.create=function(){$("#HUD").hide(),$("#nastavenia").length>0&&$("#nastavenia").remove(),$("#okno").length>0&&$("#okno").remove(),this.escapeKey=this.game.input.keyboard.addKey(Phaser.Keyboard.TILDE);var e="<div class='okno' id='nastavenia'>Nastavenia<br><small>Terajsie rozlíšenie: "+Lockr.get("sirka")+"x"+Lockr.get("vyska")+"</small><br><label><input type='checkbox' name='skalovanie' id='skalovanie' ";1==Lockr.get("skalovanie")&&(e+="checked"),e+="> skalovanie</label><br><label><input type='checkbox' name='paralax' id='paralax' ",1==Lockr.get("paralax")&&(e+="checked"),e+="> paralax</label><br>",e+="Vyber z niektoreho 16:9 rozlisenia:<br><select id='rozlisenie' name='rozlisenie'>\t<option value='"+Lockr.get("sirka")+"x"+Lockr.get("vyska")+"' selected>* "+Lockr.get("sirka")+" × "+Lockr.get("vyska")+"</option>\t<option value='768x432'>768 × 432</option>\t<option value='784x441'>784 × 441</option>\t<option value='800x450'>800 × 450</option>\t<option value='832x468'>832 × 468</option>\t<option value='848x477'>848 × 477</option>\t<option value='864x486'>864 × 486</option>\t<option value='880x495'>880 × 495</option>\t<option value='912x513'>912 × 513</option>\t<option value='928x522'>928 × 522</option>\t<option value='944x531'>944 × 531</option>\t<option value='960x540'>960 × 540</option>\t<option value='976x549'>976 × 549</option>\t<option value='992x558'>992 × 558</option>\t<option value='1008x567'>1008 × 567</option>\t<option value='1024x576'>1024 × 576</option>\t<option value='1040x585'>1040 × 585</option>\t<option value='1056x594'>1056 × 594</option>\t<option value='1072x603'>1072 × 603</option>\t<option value='1088x612'>1088 × 612</option>\t<option value='1104x621'>1104 × 621</option>\t<option value='1120x630'>1120 × 630</option>\t<option value='1136x639'>1136 × 639</option>\t<option value='1152x648'>1152 × 648</option>\t<option value='1168x657'>1168 × 657</option>\t<option value='1184x666'>1184 × 666</option>\t<option value='1200x675'>1200 × 675</option>\t<option value='1232x693'>1232 × 693</option>\t<option value='1248x702'>1248 × 702</option>\t<option value='1264x711'>1264 × 711</option>\t<option value='1280x720'>1280 × 720</option>\t<option value='1296x729'>1296 × 729</option>\t<option value='1312x738'>1312 × 738</option>\t<option value='1328x747'>1328 × 747</option>\t<option value='1344x756'>1344 × 756</option>\t<option value='1360x765'>1360 × 765</option>\t<option value='1376x774'>1376 × 774</option>\t<option value='1392x783'>1392 × 783</option>\t<option value='1424x801'>1424 × 801</option>\t<option value='1440x810'>1440 × 810</option>\t<option value='1456x819'>1456 × 819</option>\t<option value='1472x828'>1472 × 828</option>\t<option value='1488x837'>1488 × 837</option>\t<option value='1504x846'>1504 × 846</option>\t<option value='1520x855'>1520 × 855</option>\t<option value='1536x864'>1536 × 864</option>\t<option value='1552x873'>1552 × 873</option>\t<option value='1568x882'>1568 × 882</option>\t<option value='1584x891'>1584 × 891</option>\t<option value='1600x900'>1600 × 900</option>\t<option value='1616x909'>1616 × 909</option>\t<option value='1632x919'>1632 × 919</option></select><br><br><button id='ulozNastavenia'>Ulozit a restartovat</button></div>",$(e).appendTo("#telo"),$("#telo").on("click","#ulozNastavenia",function(e){var t=$("#rozlisenie").val(),a=$("#skalovanie").is(":checked"),i=$("#paralax").is(":checked"),s=t.indexOf("x"),n=t.substring(0,s),r=t.substring(s+1),l=new o.UI;l.actionOnClick(n,r,a,i)});var t=$("canvas"),a=t.offset();$("#nastavenia").css("left",a.left),$("#nastavenia").css("top",a.top)},t.prototype.update=function(){},t}(Phaser.State);t.Nastavenia=s},function(e,t,a){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}();t.__esModule=!0;var o=function(e){function t(t,a,i,o,s,n,r,l,p,h,c){var d=e.call(this,a,i,o)||this;return d.game=a,d.hrac=s,d.bloky=n,d.stromy=r,d.zbieratelnePredmety=l,d.sipy=p,d.sipyNepriatelov=h,d.vlastnosti=c,d.padajuce=c.padajuce,d.zdrzanie=c.zdrzanie||300,c.zranenie?d.zranenie=c.zranenie:d.zranenie=0,"krabica"===c.sprite||"krabica2"===c.sprite||"krabica3"===c.sprite||"jezko"===c.sprite?t=Phaser.Sprite.call(d,a,i,o,"dataFile",c.sprite+".png"):Phaser.Sprite.call(d,a,i,o,c.sprite),d.game.add.existing(d),d.game.physics.arcade.enable(d),d.enableBody=!0,d.body.collideWorldBounds=!0,d.body.gravity.y=700,d.vlastnosti.pohyblive?(d.body.immovable=!1,d.body.moves=!0,d.body.mass=110,d.body.drag.x=450):(d.body.immovable=!0,d.body.moves=!1,d.body.mass=110),c.type&&(d.type=c.type),Object.create(Phaser.Sprite.prototype),d}return i(t,e),t.prototype.update=function(){Math.abs(this.hrac.x-this.x)<=40&&this.hrac.y>this.y&&"pasca"===this.vlastnosti.type&&(this.body.moves=!0),this.game.physics.arcade.collide(this,this.bloky),this.game.physics.arcade.collide(this,this.stromy),this.game.physics.arcade.overlap(this,this.sipy,function(e,t){e.vlastnosti.zdravie&&e.vlastnosti.znicitelne===!0&&(e.vlastnosti.zdravie-=25,e.vlastnosti.zdravie<=0&&e.kill()),t.kill()}),this.game.physics.arcade.overlap(this,this.sipyNepriatelov,function(e,t){e.vlastnosti.zdravie&&e.vlastnosti.znicitelne===!0&&(e.vlastnosti.zdravie-=25,e.vlastnosti.zdravie<=0&&e.kill()),t.kill()})},t.prototype.obnov=function(){this.vlastnosti.zdravie=this.vlastnosti.plneZdravie||50},t}(Phaser.Sprite);t.PohyblivyPredmet=o},function(e,t,a){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}();t.__esModule=!0;var o=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.preload=function(){this.logo=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"nacitavanie"),this.logo.width=this.camera.width,this.logo.height=this.camera.height,this.logo.anchor.setTo(.5),this.load.atlasJSONHash("dataFile","assets/obr/dataFile.png","assets/obr/dataFile.json"),this.load.tilemap("plesa","assets/urovne/plesa.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("zakazanyLes","assets/urovne/zakazanyLes.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("hrobka","assets/urovne/hrobka.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("ohyzdiePlane","assets/urovne/ohyzdiePlane.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("vychor","assets/urovne/vychor.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("drevenik","assets/urovne/drevenik.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("milicinaIzbicka","assets/urovne/milicinaIzbicka.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("drevenikStajne","assets/urovne/drevenikStajne.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("drevenikAlchymista","assets/urovne/drevenikAlchymista.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("drevenikObchod","assets/urovne/drevenikObchod.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("nadstromovaUroven","assets/urovne/nadstromovaUroven.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("mosty","assets/urovne/mosty.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("podMostom","assets/urovne/podMostom.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("les","assets/urovne/les.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("predmestie","assets/urovne/predmestie.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("strok","assets/urovne/strok.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("rudohorie","assets/urovne/rudohorie.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("staraBana","assets/urovne/staraBana.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("zahrady","assets/urovne/zahrady.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("hustoles","assets/urovne/hustoles.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("domObchodnikaVStroku","assets/urovne/domObchodnikaVStroku.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("domCarodejnikaVStroku","assets/urovne/domCarodejnikaVStroku.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("jancib","assets/urovne/jancib.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("povala","assets/urovne/povala.json",null,Phaser.Tilemap.TILED_JSON),this.load.image("dlazdice","assets/obr/dlazdice.png")},t.prototype.create=function(){var e=Lockr.get("vlastnosti");if(e)var t=e.uroven||"drevenik",a=e.obrazokNaPozadi||"obrazokNaPozadi2b",i=(e.kdeMaZacat||"vlavo",1147),o=842;else var t="drevenik",a="obrazokNaPozadi2b",i=1147,o=842;this.camera.fade(0),this.camera.onFadeComplete.add(function(){this.state.start("Game",!0,!1,t,a,i,o)},this)},t}(Phaser.State);t.Preload=o},function(e,t,a){"use strict";t.__esModule=!0;var i=a(5),o=a(9),s=a(11),n=a(6),r=function(){function e(){this.game=new Phaser.Game(Number(Lockr.get("sirka")),Number(Lockr.get("vyska"))),this.game.state.add("Boot",i.Boot),this.game.state.add("Preload",s.Preload),this.game.state.add("Game",n.Game),this.game.state.add("Nastavenia",o.Nastavenia),this.game.state.start("Boot")}return e}();t.Tartaria=r},function(e,t,a){a(0),e.exports=a(0)}]);